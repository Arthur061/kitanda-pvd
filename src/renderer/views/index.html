<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'">
    <title>Kitanda - Caf√© e Lanches</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div class="background-logo"></div>
    <div class="container">
        <div class="sidebar" id="categorias">
            <div class="user-profile-card">
                <div class="avatar-circle" id="user-avatar">U</div>
                <div class="user-info">
                    <span class="welcome-text">Ol√°,</span>
                    <strong id="display-username">Usu√°rio</strong>
                    <span id="display-role" class="badge-role">...</span>
                </div>
            </div>

            <div class="menu-label">CATEGORIAS</div>
            
            <div id="category-buttons-container" class="accordion-content open">
                <button class="categoria-btn selected">üì¶ Todos</button>
                <button class="categoria-btn">üçî Lanches</button>
                <button class="categoria-btn">ü•§ Bebidas</button>
                <button class="categoria-btn">üçü Combos</button>
                <button class="categoria-btn">üç© Outros</button>
            </div>

            <div class="sidebar-footer">
                <button id="manage-products-btn" class="action-btn btn-secondary">
                    ‚öôÔ∏è Estoque
                </button>
                <button id="logout-btn" class="action-btn btn-danger">
                    üö™ Sair
                </button>
            </div>
        </div>
        <div class="main-content" id="produtos"></div>
        <div class="sidebar" id="pedido">
            <h2>Pedido Atual</h2>
            <ul id="lista-pedido"></ul>
            <div class="total">
                <strong>Total:</strong>
                <span id="valor-total">R$ 0,00</span>
            </div>
            <button class="btn-finalizar">Finalizar Venda</button>
        </div>
    </div>

    <div id="payment-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>Finalizar Venda</h2>
            
            <p style="font-size: 1.2em; margin-bottom: 20px;">
                Total do Pedido: <strong id="modal-total-display">R$ 0,00</strong>
            </p>

            <div class="payment-options">
                <h3>Selecione o Meio de Pagamento:</h3>
                <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                    <button class="payment-btn" data-method="Dinheiro">Dinheiro</button>
                    <button class="payment-btn" data-method="Pix">Pix</button>
                    <button class="payment-btn" data-method="Cr√©dito">Cr√©dito</button>
                    <button class="payment-btn" data-method="D√©bito">D√©bito</button>
                </div>
            </div>

            <div id="discount-section" class="discount-container hidden">
    
                <div class="discount-input-wrapper">
                    <label for="discount-input" class="discount-label">Desconto (%):</label>
                    <input type="number" id="discount-input" class="discount-field" min="0" max="100" placeholder="0">
                </div>
                
                <div class="final-total-display">
                    <span style="font-size: 0.7em; color: #666; font-weight: normal;">Total a Pagar:</span>
                    <strong id="modal-final-total">R$ 0,00</strong>
                </div>

            </div>

            <p style="margin-top: 20px;">Pagamento Selecionado: <strong id="selected-payment">-</strong></p>

            <div class="modal-actions">
                <button id="cancel-sale-btn" class="btn-cancel">Cancelar</button>
                <button id="confirm-sale-btn" class="btn-confirm" disabled>Confirmar Compra</button>
            </div>
        </div>
    </div>
    <div id="alert-modal" class="modal-overlay hidden">
        <div class="modal-content alert-style">
            <div class="alert-icon">‚ö†Ô∏è</div>
            <h2 id="alert-title">Aten√ß√£o</h2>
            <p id="alert-message">Mensagem de alerta aqui...</p>
            <button id="alert-ok-btn" class="btn-confirm">Entendi</button>
        </div>
    </div>
    <div id="logout-confirmation-modal" class="modal-overlay hidden">
        <div class="modal-content logout-modal">
            
            <div class="modal-header">
                <h3 style="margin: 0; color: #d32f2f; font-size: 1.5em;">Sair do Sistema?</h3>
            </div>
            
            <div class="modal-body">
                <p style="font-size: 1.1em; margin: 0;">Tem certeza que deseja encerrar sua sess√£o?</p>
            </div>
            
            <div class="modal-footer">
                <button id="cancel-logout-btn" class="modal-btn btn-cancel-custom">
                    Cancelar
                </button>
                
                <button id="confirm-logout-btn" class="modal-btn btn-confirm-custom">
                    Sim, Sair
                </button>
            </div>
        </div>
    </div>
    <script src="../js/renderer.js"></script>
</body>
</html>